<ion-header class="navbar cornicetta">
  <button ion-button ion-only class="btn-menu btn-clear" (click)="goToChildrenPage()">
    <ion-icon name="arrow-back"></ion-icon>
  </button>
  <ion-title>
    <img src="assets/imgs/logo.png" >
  </ion-title>
</ion-header>


<ion-content>
 
  <ion-list>
    <ion-item>
      <ion-label color="primary" stacked>{{ "Nome" | translate }}</ion-label>
      <ion-input [(ngModel)]="child.name" (ngModelChange)="newValue()"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label color="primary" stacked>{{ "Data di nascita" | translate }}</ion-label>
      <ion-datetime displayFormat="MM DD YYYY" [(ngModel)]="birthday" (ngModelChange)="newValue()"></ion-datetime>
    </ion-item>
 
    <ion-item>
      <ion-grid>
        <ion-row>
          <ion-col col-2>
            <button class="circular-button boy" ion-button icon-only [small]="child.sex == 'girl'" (click)="setSex('boy')">
              <ion-icon name="male"></ion-icon>
            </button>
          </ion-col>
          <ion-col col-8><div class="child-avatar" [ngStyle]="{ 'background-image': 'url(assets/imgs/children_avatars/'+avatarFileName+'.png)'}"></div></ion-col>
          <ion-col col-2>
            <button class="circular-button girl" ion-button icon-only [small]="child.sex == 'boy'" (click)="setSex('girl')">
              <ion-icon name="female"></ion-icon>
            </button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>

    <ion-item class="child-features__item">
      <ion-grid>
        <ion-row>
          <ion-col col-6>
            <button ion-button (click)="openHairShapeSelect()">{{ "Forma capelli" | translate }}</button>
          </ion-col>
          <ion-col col-6>
            <button ion-button (click)="openHairColorSelect()">{{ "Colore capelli" | translate }}</button>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-6>
            <button ion-button (click)="openSkinColorSelect()">{{ "Colore pelle" | translate }}</button>
          </ion-col>
          <ion-col col-6>
            <button ion-button (click)="openEyeColorSelect()">{{ "Colore occhi" | translate }}</button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>

    <ion-select multiple="false" #hairShapeSelect class="hidden" [(ngModel)]="child.hairShape" (ngModelChange)="saveChild()">
      <ion-option value="co">{{ "ca_Corti" | translate }}</ion-option>
      <ion-option value="lu">{{ "ca_Lunghi" | translate }}</ion-option>
      <ion-option value="ri">{{ "ca_Ricci" | translate }}</ion-option>
    </ion-select>

    <ion-select multiple="false" #hairColorSelect class="hidden" [(ngModel)]="child.hairColor" (ngModelChange)="saveChild()">
      <ion-option value="ro">{{ "ca_Rossi" | translate }}</ion-option>
      <ion-option value="ne">{{ "ca_Neri" | translate }}</ion-option>
      <ion-option value="bi">{{ "ca_Biondi" | translate }}</ion-option>
      <ion-option value="ca">{{ "ca_Castani" | translate }}</ion-option>
    </ion-select>

    <ion-select multiple="false" #skinColorSelect class="hidden" [(ngModel)]="child.skinColor" (ngModelChange)="saveChild()">
      <ion-option value="bi">{{ "pe_Bianca" | translate }}</ion-option>
      <ion-option value="ro">{{ "pe_Rosa" | translate }}</ion-option>
      <ion-option value="ne">{{ "pe_Nera" | translate }}</ion-option>
    </ion-select>

    <ion-select multiple="false" #eyeColorSelect class="hidden" [(ngModel)]="child.eyeColor" (ngModelChange)="saveChild()">
      <ion-option value="ne">{{ "o_Neri" | translate }}</ion-option>
      <ion-option value="ma">{{ "o_Marroni" | translate }}</ion-option>
      <ion-option value="ve">{{ "o_Verdi" | translate }}</ion-option>
      <ion-option value="az">{{ "o_Azzurri" | translate }}</ion-option>
    </ion-select>

    <ion-item>
      <ion-label color="primary" stacked>{{ "Nome Pap√†" | translate }}:</ion-label>
      <ion-input [(ngModel)]="dadName" (ngModelChange)="newValue()"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label color="primary" stacked>{{ "Nome Mamma" | translate }}:</ion-label>
      <ion-input [(ngModel)]="momName" (ngModelChange)="newValue()"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label color="primary" stacked>{{ child.sex == "girl" ? ("Nome Amica del cuore" | translate) : ("Nome Amico del cuore" | translate) }}:</ion-label>
      <ion-input [(ngModel)]="bestFriendName" (ngModelChange)="newValue()"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label color="primary" stacked>{{ "Nome Cane" | translate }}:</ion-label>
      <ion-input [(ngModel)]="dogName" (ngModelChange)="newValue()"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label color="primary" stacked>{{ "Nome Nonno" | translate }}:</ion-label>
      <ion-input [(ngModel)]="grandPaName" (ngModelChange)="newValue()"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label color="primary" stacked>{{ "Nome Nonna" | translate }}:</ion-label>
      <ion-input [(ngModel)]="grandMaName" (ngModelChange)="newValue()"></ion-input>
    </ion-item>

    <ion-item class="navigation__buttons">
      <ion-grid>
        <ion-row>
          <ion-col col-12>
            <button ion-button item-end [disabled]="!showSave" (click)="saveChild()">{{ "Salva" | translate }}</button>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-6>
            <button ion-button (click)="goToChildrenPage()">{{ "Bambini" | translate }}</button>
          </ion-col>
          <ion-col col-6 [hidden]="child.id == 0">
            <button ion-button (click)="goToTalesPage()">{{ "Favole" | translate }}</button>
          </ion-col>
          <ion-col col-12>
              <button ion-button color="danger" (click)="deleteChild()">{{ "Cancella" | translate }}</button>
            </ion-col>
          </ion-row>
      </ion-grid>
    </ion-item>

  </ion-list>

</ion-content>